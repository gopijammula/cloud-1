DevSecOps Scans 
    * Network
    * Os
    * code
    * Dependency
    * Application
    * Hardware


Date: 18/08
Mandatory scans in the devops CI/CD
    * Software Composition Analysis (SCA)
        * Dependencies used in the build
        * Frameworks
        * API's
    * Static Application Security Test (SAST)
        * Scaning the code developed by the developer to find all the vulnerabilities in the code
    * Dynamic Application Security Test(DAST)
        * Scaning the applications which are build, deployed and running
        *Ex: Websites, Webapps, Containers, Operating systems , Docker images

Date: 21/08

Sonarqube for testing SAST (testing code for vulnerabilities)
----  Installing docker in ubuntu
    * Make sure all the port are opened
    
    ``` 
        sudo apt update
        curl -fsSL https://get.docker.com -o get-docker.sh
        sudo usermod -aG docker ubuntu
    ```
    Exit and relogin to the system
    docker info --- to check the docker Installed
    ``` To install sonarqube using docker
        docker run -d --name sonarqube -e SONAR_ES_BOOTSTRAP_CHECKS_DISABLE=true -p 9000:9000 sonarqube:latest
    ```
    Connect to the port using port 9000
    ```
        http://ip_address:9000
    ```
    * Login to the portal with username "admin" password "admin"
    * Create Manual project or set up a DevOps platform configuration.
    * Test project locally or integrate with any CI 
    * Generate the token to test the code
    * Select the build and Copy the Scanner code generated
    * Download the project into the system
        git clone link
    Navigate to the folder containing pom.xml file
    * Execute the code generated by in the sonarqube portal
    * It takes time to Execute and the report generated will automatically shown in the portal
    * To scan another project create another in the portal 


Date: 26/08
-------*  Vulnerability Databases *----------
* NVD (National Vulnerability Database)
    * This is list of all known vulnerabilities
    * To 20 vulnerabilities are listed
* OWASP Top 10 
* OWASP API Top 10

Date: 27/08

-------* OWASP Dependency check (SCA) *-----------

    ```
    sudo apt update
    sudo apt install unzip
    sudo apt install openjdk-11-jdk -y
    wget https://github.com/jeremylong/DependencyCheck/releases/download/v7.1.2/dependency-check-7.1.2-release.zip
    unzip ~/dependency-check-7.1.2-release.zip
    cd dependency-check
    ```

    # replace the url with the dependency you want to scan
    git clone https://github.com/wakaleo/game-of-life.git  
    
    # Navigate to the folder where you want to sAVE the report
    # it's better to save in the project folder 
    cd game-of-life
    
    # replace ~/game-of-life/ with the downloaded project file where the pom.xml file is presented
    ~/dependency-check/bin/dependency-check.sh --project "Name" --scan ~/game-of-life/

    #To view report in the command line 
    cat ~/game-of-life/dependency-check-report.html

    # To view html in the local system
        sudo apt install apache2
        sudo cp ~/game-of-life/dependency-check-report.html /var/www/html/report_name.html
    # Connect to apache2 using public-ip-address
        http://public-ip/report_name.html
    
--------* OWASP ZAP (DAST) *----------

    # install zap using chocolety
        choco install zap -y
    
    # Copy any address and paste in the url and click on attack
    # After the scan is completed click on the create option and Select generate report
    # save the report

Date: 28/08


------* AWS ECR *----------

    * This is a Elastic container repository to check all the docker images

    * AWS Access keys generated to login in ubuntu 
        Secret Access Key  -  72fUVD6VmBKDzWz+gsMpaaDmQineNPuShcpdZn3X
        Access Key -  AKIAVG5C5SAHDQRF52JJ
        * To get these credentials create an IAM user [Process https://sst.dev/chapters/create-an-iam-user.html] 

    * Process of scaning docker images in AWS ECR
        * Create a ubuntu server
        * Make sure all the ports to the server is opened
        * Connect to the server
        * Run following commands
    ```
        sudo apt update
        curl -fsSL https://get.docker.com -o get-docker.sh
        sh get-docker.sh
        sudo usermod -aG docker ubuntu # replace ubuntu with the server username
        exit
    * relogin
        sudo apt install unzip
        curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
        unzip awscliv2.zip
        sudo ./aws/install
        aws --version
        aws configure
        docker image pull tomcat:9
    ```

    * Now login to AWS Console and search for ECR
    * Click on Create repository
    * Create new and enable scan to push (Here it is test)
    * Now Select the created repository and click on view push commands
    * Copy and Execute the first command 
    * Skip second command if you already have docker image installed (In this case we installed tomcat9)
    * Edit third command replace test:latest with the docker image (In this case it is tomcat:9)
    * Edit forth command replace test:latest with the docker image (In this case it is tomcat:9)

    * To view scan report
    - Open repository and click on image
    - Click on details under the vulnerabilities to view the complete report


Date: 01/09

* Trusted Advisor
    Default enabled in the account for  scans 
* AWS Guard Duty
    This gives option to block the ip_addresses 
* AWS Macie:
    - This service scans for sensitive content on the S3 buckets.
    - PII (Personally Identifiable Information) should not be stored in logs
        of your application.